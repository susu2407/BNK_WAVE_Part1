<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" th:href="@{/css/member/card/list.css}">
</head>
<body>
<div th:replace="~{common/product_header :: product_header}"></div>
<main>
    <div class="main-container">
        <div id="main-content">
            <section class="card-page">
                <!-- í•„í„° -->
                <div class="card-filter" id="filterArea">
                    <button class="filter-btn active" data-filter="all">ì¶”ì²œ</button>
                    <button class="filter-btn" data-filter="cashback">ìºì‹œë°±ì´ë²¤íŠ¸</button>
                    <button class="filter-btn" data-filter="overseas">í•´ì™¸Â·ë§ˆì¼ë¦¬ì§€</button>
                    <button class="filter-btn" data-filter="new">NEW</button>
                    <button class="filter-btn" data-filter="samsung">ì‚¼ì„±ì¹´ë“œ</button>
                    <button class="filter-btn" data-filter="taptap">taptap</button>
                    <button class="filter-btn" data-filter="premium">í”„ë¦¬ë¯¸ì—„</button>
                    <button class="filter-btn" data-filter="mart">ë§ˆíŠ¸Â·í¸ì˜ì </button>
                    <button class="filter-btn" data-filter="car">ì£¼ìœ Â·ìë™ì°¨</button>
                    <button class="filter-btn" data-filter="car">ì£¼ìœ Â·ìë™ì°¨</button>
                    <button class="filter-btn" data-filter="car">ì£¼ìœ Â·ìë™ì°¨</button>
                    <button class="filter-btn" data-filter="car">ì£¼ìœ Â·ìë™ì°¨</button>
                    <button class="filter-btn" data-filter="car">ì£¼ìœ Â·ìë™ì°¨</button>
                    <button class="filter-btn" data-filter="car">ì£¼ìœ Â·ìë™ì°¨</button>

                    <!--
                    â˜… íƒ€ì„ë¦¬í”„ ë²„ì „ ì˜ˆì‹œ (JS ì•ˆ ì“°ê³  ì„œë²„ì—ì„œ í•„í„°ë§í•  ë•Œ)
                    - ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ?category=... ë°›ì•„ì„œ ë‹¤ì‹œ ëª©ë¡ ë‚´ë ¤ì£¼ëŠ” êµ¬ì¡°
                    - ${param.category} ë¡œ í˜„ì¬ ì„ íƒëœ í•„í„°ë¥¼ active ì²˜ë¦¬
                    <a th:href="@{/cards(category='all')}"
                       th:class="'filter-btn ' + (${param.category}=='all' ? 'active' : '')">ì¶”ì²œ</a>
                    <a th:href="@{/cards(category='cashback')}"
                       th:class="'filter-btn ' + (${param.category}=='cashback' ? 'active' : '')">ìºì‹œë°±ì´ë²¤íŠ¸</a>
                    <a th:href="@{/cards(category='overseas')}"
                       th:class="'filter-btn ' + (${param.category}=='overseas' ? 'active' : '')">í•´ì™¸Â·ë§ˆì¼ë¦¬ì§€</a>
                    -->
                </div>

                <div class="list-wrapper">
                    <h2 class="list-title" id="listTitle">ì¶”ì²œ ì¹´ë“œ</h2>

                    <!-- ë¦¬ìŠ¤íŠ¸ -->
                    <div class="card-list" id="cardList">
                        <!-- ìŠ¤í”„ë§ í•  ë•Œ ì£¼ì„ ì§€ìš°ì…ˆ
                        <th:block th:each="card : ${cards}">
                            <article class="card-item" th:data-category="${card.categories}">
                                <div class="card-thumb">
                                    <img th:src="${card.imageUrl}" th:alt="${card.name}">
                                </div>
                                <div class="card-body">
                                    <h3 class="card-name" th:text="${card.name}">ì¹´ë“œ ì´ë¦„</h3>
                                    <p class="card-desc" th:text="${card.description}">ì„¤ëª…</p>
                                    <p class="card-tagline" th:text="${card.tagline}">íƒœê·¸ë¼ì¸</p>
                                </div>
                                <div class="card-actions">
                                    <a class="detail-btn" th:href="@{/card/{id}(id=${card.id})}">ìì„¸íˆ ë³´ê¸°</a>
                                </div>
                            </article>
                        </th:block>
                        -->
                    </div>
                </div>
            </section>
        </div>
    </div>
</main>
<div th:replace="~{common/footer :: footer}"></div>
<script> // í—¤ë” í‘¸í„° ì—°ê²°
document.addEventListener('DOMContentLoaded', function () {
    // header ë¡œë“œ
    fetch('../common/header.html')
        .then(res => res.text())
        .then(html => {
            document.getElementById('header').innerHTML = html;

            // í—¤ë”ê°€ ì‹¤ì œë¡œ DOMì— ë“¤ì–´ì˜¨ ë’¤ì— ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ë‹¬ê¸°
            const headerEl = document.querySelector('.header');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 10) {
                    headerEl.classList.add('scrolled');
                } else {
                    headerEl.classList.remove('scrolled');
                }
            });
        });

    // footer ë¡œë“œ
    fetch('../common/footer.html')
        .then(res => res.text())
        .then(html => document.getElementById('footer').innerHTML = html);
});
</script>

<!-- 2) â˜…â˜…â˜… ë‚˜ì¤‘ì— ìŠ¤í”„ë§/íƒ€ì„ë¦¬í”„ë¡œ ë°ì´í„° ë¿Œë¦´ ë•Œ 'ì´ ì•„ë˜ ì „ì²´'ëŠ” ì§€ì›Œë„ ë©ë‹ˆë‹¤ â˜…â˜…â˜… -->
<script>
    // ì¹´ë“œ ë°ì´í„° (ì„ì‹œ)
    const cards = [
        {
            id: "card01",
            name: "ì‚¼ì„± iD SELECT ON ì¹´ë“œ",
            desc: "ì˜¨ë¼ì¸(íŒ¨ì…˜/ì‡¼í•‘) 10% ê²°ì œí• ì¸, OTT/ë””ì§€í„¸ì½˜í…ì¸  5% ê²°ì œí• ì¸",
            tag: "ì—°íšŒë¹„ 100% ìºì‹œë°± ì´ë²¤íŠ¸ ì§„í–‰ì¤‘",
            img: "https://static11.samsungcard.com/wcms/home/scard/image/personal/IDON_AAP1731.gif",
            link: "#",
            categories: ["all", "cashback", "samsung", "new"]
        },
        {
            id: "card02",
            name: "ì‚¼ì„± iD SELECT ALL ì¹´ë“œ",
            desc: "ì•„íŒŒíŠ¸ ê´€ë¦¬ë¹„/í†µì‹ ìš”ê¸ˆ/êµìœ¡ 10% í• ì¸, ì˜¨ë¼ì¸ì‡¼í•‘/ì£¼ìœ  7% í• ì¸",
            tag: "ë””ì§€í„¸ì½˜í…ì¸ /ì£¼ìœ  ìµœëŒ€ 7% ì ë¦½",
            img: "https://static11.samsungcard.com/wcms/home/scard/image/personal/DN_AAP1742.gif",
            link: "#",
            categories: ["all", "cashback", "samsung"]
        },
        {
            id: "card03",
            name: "ì‚¼ì„±ì¹´ë“œ taptap O",
            desc: "ëŒ€ì¤‘êµí†µ/í†µì‹  10% í• ì¸, CGVÂ·ì¿ íŒ¡ ìµœëŒ€ 5,000ì› ê²°ì œí• ì¸",
            tag: "ìƒí™œ í•„ìˆ˜ í• ì¸",
            img: "https://static11.samsungcard.com/wcms/home/scard/image/personal/DN_AAP1767.gif",
            link: "#",
            categories: ["all", "taptap", "mart"]
        },
        {
            id: "card04",
            name: "í•´ì™¸ ì—¬í–‰ ìŠ¤í˜ì…œ ì¹´ë“œ",
            desc: "í•´ì™¸ ì´ìš© ìˆ˜ìˆ˜ë£Œ 0%, í•­ê³µ ë§ˆì¼ë¦¬ì§€ ì ë¦½, ê³µí•­ ë¼ìš´ì§€ ì´ìš©",
            tag: "ì—¬í–‰ ì¢‹ì•„í•˜ëŠ” ë¶„ê»˜",
            img: "https://static11.samsungcard.com/wcms/home/scard/image/personal/b_AAP1483.png",
            link: "#",
            categories: ["all", "overseas"]
        },
        {
            id: "card05",
            name: "í”„ë¦¬ë¯¸ì—„ Signature",
            desc: "ì»¨ì‹œì–´ì§€, íŠ¹ê¸‰ í˜¸í…”, ê³¨í”„ì¥ ê·¸ë¦°í”¼ í• ì¸",
            tag: "ì—° 1íšŒ ê³µí•­ ë¼ìš´ì§€ ë¬´ë£Œ",
            img: "https://i.namu.wiki/i/IAJvonqqxo949GavmMtyQOX05yvPs8vXZpJWZ5orEB4ZUMzsEUpj3D6osRLF8WbcXVbpB05ZGwriavHWsSGRbg.webp",
            link: "#",
            categories: ["all", "premium"]
        },
        {
            id: "card06",
            name: "ë“œë¼ì´ë²„ ì „ìš© ì˜¤ì¼/ì£¼ìœ  ì¹´ë“œ",
            desc: "ì£¼ìœ  150ì›/L í• ì¸, ìŠ¤í”¼ë“œë©”ì´íŠ¸ ì—”ì§„ì˜¤ì¼ ìµœëŒ€ 30% í• ì¸",
            tag: "ì°¨ëŸ‰ ìœ ì§€ë¹„ ì¤„ì´ê¸°",
            img: "https://cdnu.www.shinhancard.com/pconts/images/banner/20250320641363_hotbn.png",
            link: "#",
            categories: ["all", "car", "cashback"]
        },
        {
            id: "card07",
            name: "ë“œë¼ì´ë²„ ì „ìš© ì˜¤ì¼/ì£¼ìœ  ì¹´ë“œ",
            desc: "ì£¼ìœ  150ì›/L í• ì¸, ìŠ¤í”¼ë“œë©”ì´íŠ¸ ì—”ì§„ì˜¤ì¼ ìµœëŒ€ 30% í• ì¸",
            tag: "ì°¨ëŸ‰ ìœ ì§€ë¹„ ì¤„ì´ê¸°",
            img: "https://cdnu.www.shinhancard.com/pconts/images/banner/20250320641363_hotbn.png",
            link: "#",
            categories: ["all", "car", "cashback"]
        }
    ];

    document.addEventListener('DOMContentLoaded', function () {
        const cardListEl = document.getElementById("cardList");
        const filterArea = document.getElementById("filterArea");
        const listTitle = document.getElementById("listTitle");

        function renderCards(filterKey = "all") {
            cardListEl.innerHTML = "";

            const filtered = cards.filter(card => card.categories.includes(filterKey));

            const activeBtn = document.querySelector(".filter-btn.active");
            listTitle.textContent = activeBtn ? activeBtn.textContent + " ì¹´ë“œ" : "ì¹´ë“œ ëª©ë¡";

            if (filtered.length === 0) {
                cardListEl.innerHTML = '<div class="empty-msg">í•´ë‹¹ ì¡°ê±´ì˜ ì¹´ë“œê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
                return;
            }

            filtered.forEach(card => {
                const item = document.createElement("article");
                item.className = "card-item";
                item.innerHTML = `
                    <div class="card-thumb">
                        <img src="${card.img}" alt="${card.name}">
                    </div>
                    <div class="card-body">
                        <h3 class="card-name">${card.name}</h3>
                        <p class="card-desc">${card.desc}</p>
                        <p class="card-tagline">${card.tag}</p>
                    </div>
                    <div class="card-actions">
                        <button class="detail-btn" data-link="${card.link}">ìì„¸íˆ ë³´ê¸°</button>
                    </div>
                `;
                cardListEl.appendChild(item);
            });

            cardListEl.querySelectorAll(".detail-btn").forEach(btn => {
                btn.addEventListener("click", () => {
                    const url = btn.dataset.link;
                    if (url && url !== "#") {
                        window.location.href = url;
                    } else {
                        alert("ì´ ì¹´ë“œ ìƒì„¸ í˜ì´ì§€ëŠ” ì•„ì§ ì—°ê²°ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤ ğŸ™‚");
                    }
                });
            });
        }

        // í•„í„° í´ë¦­
        filterArea.addEventListener("click", e => {
            const target = e.target;
            if (!target.classList.contains("filter-btn")) return;

            document.querySelectorAll(".filter-btn").forEach(b => b.classList.remove("active"));
            target.classList.add("active");

            const key = target.dataset.filter;
            renderCards(key);
        });

        // ì´ˆê¸° í‘œì‹œ
        renderCards("all");
    });
</script>
<!-- â˜…â˜…â˜… ì—¬ê¸°ê¹Œì§€ê°€ ë‚˜ì¤‘ì— ì„œë²„ ë Œë”ë§ìœ¼ë¡œ ë°”ê¾¸ë©´ ì—†ì–´ì ¸ë„ ë˜ëŠ” ì˜ì—­ â˜…â˜…â˜… -->
</body>
</html>