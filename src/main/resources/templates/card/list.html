<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>카드 목록</title>
    <link rel="stylesheet" th:href="@{/css/member/card/list.css}">
</head>

<body>

<!-- 공통 헤더 -->
<div th:replace="~{common/product_header :: product_header}"></div>

<main>
    <div class="main-container">
        <div id="main-content">

            <section class="card-page">

                <!-- 필터 버튼 -->
                <div class="card-filter" id="filterArea">
                    <button class="filter-btn active" data-filter="all">추천</button>
                    <button class="filter-btn" data-filter="cashback">캐시백이벤트</button>
                    <button class="filter-btn" data-filter="overseas">해외·마일리지</button>
                    <button class="filter-btn" data-filter="new">NEW</button>
                    <button class="filter-btn" data-filter="samsung">삼성카드</button>
                    <button class="filter-btn" data-filter="taptap">taptap</button>
                    <button class="filter-btn" data-filter="premium">프리미엄</button>
                    <button class="filter-btn" data-filter="mart">마트·편의점</button>
                    <button class="filter-btn" data-filter="car">주유·자동차</button>
                </div>

                <div class="list-wrapper">

                    <h2 class="list-title" id="listTitle">추천 카드</h2>

                    <!-- 카드 리스트 -->
                    <div class="card-list" id="cardList">

                        <!-- ★ 타임리프 카드 반복 ★ -->
                        <th:block th:each="item : ${cards}">

                            <article class="card-item">

                                <!-- 카드 이미지 -->
                                <div class="card-thumb">
                                    <img th:src="@{'/' + ${item.card.thumbnail}}"
                                         th:alt="${item.card.name}">
                                </div>

                                <!-- 카드 기본 정보 -->
                                <div class="card-body">
                                    <h3 class="card-name" th:text="${item.card.name}">카드 이름</h3>
                                    <p class="card-desc" th:text="${item.card.description}">
                                        설명
                                    </p>
                                </div>

                                <!-- 상세보기 -->
                                <div class="card-actions">
                                    <a class="detail-btn"
                                       th:href="@{/card/view(cardId=${item.card.cardId})}">
                                        자세히 보기
                                    </a>
                                </div>

                            </article>

                        </th:block>

                    </div>
                </div>
            </section>

        </div>
    </div>
</main>

<!-- 공통 푸터 -->
<div th:replace="~{common/footer :: footer}"></div>


<!-- 헤더/푸터 JS (필요 시 유지) -->
<script>
    document.addEventListener('DOMContentLoaded', function () {

        // header 로드
        fetch('../common/header.html')
            .then(res => res.text())
            .then(html => {
                const headerWrapper = document.getElementById('header');
                if (headerWrapper) {
                    headerWrapper.innerHTML = html;
                }
            });

        // footer 로드
        fetch('../common/footer.html')
            .then(res => res.text())
            .then(html => {
                const footerWrapper = document.getElementById('footer');
                if (footerWrapper) {
                    footerWrapper.innerHTML = html;
                }
            });
    });
</script>

</body>
</html>
